<div class="container">
  <div class="row" [ngClass]="routeAnimationsElements" rtl>
      <div class="col-md-12 col-lg-6">
        <ng-container *ngIf="isEdit$ | async as isEdit">
        <h2 *ngIf="!isEdit.value">Create NFT Certificate</h2>
        <h2 *ngIf="isEdit.value">Edit</h2>
        <form [formGroup]="certifForm" #userFormRef="ngForm" (ngSubmit)="onSubmit(userFormRef)">
          <div class="div-button">
            <button class="btn-action" *ngIf="!isEdit.value" type="submit" mat-raised-button color="primary">Submit</button>
            <button class="btn-action" *ngIf="isEdit.value" type="submit" mat-raised-button color="primary">Edit</button>
            <button type="reset" mat-button>Reset</button>
          </div>
          <mat-divider></mat-divider>
          <div class="select">
            <div class="sub-select">
              <mat-form-field>
                <input
                  matInput
                  placeholder="title"
                  formControlName="title"
                />
                <mat-error *ngIf="certifForm.get('title').hasError('minlength')">
                  Min length
                </mat-error>
                <mat-error *ngIf="certifForm.get('title').hasError('required')">
                  Required
                </mat-error>
              </mat-form-field>
            </div>
            <div class="sub-select">
              <x-certif-chip *ngIf="!isEdit.value" title="Artists" [fullItems]="allArtists" (selectEvent)="updateArtists($event)"></x-certif-chip>
              <x-certif-chip *ngIf="isEdit.value" title="Artists" [fullItems]="allArtists" [selectedItems]="editArtists" (selectEvent)="updateArtists($event)"></x-certif-chip>
            </div>
            <div class="sub-select">
              <x-certif-chip *ngIf="!isEdit.value" title="Gallery" [fullItems]="allGalleries" (selectEvent)="updateGalleries($event)"></x-certif-chip>
              <x-certif-chip *ngIf="isEdit.value" title="Gallery" [fullItems]="allGalleries" [selectedItems]="editGalleries" (selectEvent)="updateGalleries($event)"></x-certif-chip>
            </div>
          </div>
          <x-certif-create-img [srcUrl]="certifForm.get('image').value" (selectEvent)="updateImage($event)"></x-certif-create-img>


        </form>
        </ng-container>
      </div>
      <div class="col-md-12 col-lg-6">
        <ng-container *ngIf="certifs$ | async as certifs">
          <mat-card
            *ngFor="let certif of certifs; trackBy: trackByUserId"
            [ngClass]="routeAnimationsElements"
          >
            <mat-card-header>
              <img
                mat-card-avatar
                src="{{ certif.volumeInfo.imageLinks.full }}"
              />
              <mat-card-title>{{ certif.volumeInfo.title }}</mat-card-title>
              <mat-card-subtitle>
                <p class="subtitle" *ngFor="let artist of certif.volumeInfo.artists">{{artist}}</p>
                <p class="subtitle" *ngFor="let gallery of certif.volumeInfo.galleries">{{gallery}}</p>
              </mat-card-subtitle>
            </mat-card-header>
            <mat-card-actions>
              <button mat-button (click)="editUser(certif)">Edit</button>
              <button mat-button (click)="removeUser(certif.id)">Delete</button>
            </mat-card-actions>
          </mat-card>
        </ng-container>
      </div>
  </div>
</div>
